# Copyright (C) 2019  SuperGreenLab <towelie@supergreenlab.com>
# Author: Constantin Clauzel <constantin.clauzel@gmail.com>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.

name: SuperGreenController1.0

core_modules:

  - wifi
  - ble
  - kv
  - ota
  - httpd
  - stat_dump
  - time
  - mqtt
  - i2c
  - reboot

custom_modules:

  - blower
  - led
  - mixer
  - state
  - status_led
  - timer
  - onoff
  - manual
  - box

init_modules:
  - status_led
  - state
  - led
  - timer
  - mixer
  - blower

i2c_devices:
  - sht21

# This is why I intend to move away from mustache templates

i2c_params:
  - sda
  - scl
  - enabled

i2c_loop_i:
  - 0
  - 1
  - 2

# TODO generate this with a command

box_params:
  - enabled     
  - timer_type
  - timer_output
  - started_at
  - on_hour 
  - on_min 
  - off_hour
  - off_min
  - stretch
  - led_dim    
  - blower_day
  - blower_night
  - blower_gpio 
  - blower_frequency
  - blower_enabled
  - sht21_temp_c
  - sht21_temp_f
  - sht21_humi 

# This is why I intend to move away from mustache templates

box_loop_i:
  - 0
  - 1
  - 2

led_params:
  - duty
  - gpio
  - x
  - y
  - z
  - enabled
  - box
  - dim
  - fade

led_loop_i:
  - 0
  - 1
  - 2
  - 3
  - 4
  - 5

keys:

  #
  # Core keys
  #
  - name: wifi_status
    caps_name: WIFI_STATUS
    integer: true
    ble:
      uuid: "{0x17,0xfe,0xc3,0xc1,0x6b,0xe1,0x15,0x54,0xa5,0x74,0x55,0x9c,0x81,0x69,0xa3,0x5c}"
      notify: true
    http:
      noop: true
    default_var: DISCONNECTED

  - name: wifi_ssid
    caps_name: WIFI_SSID
    string: true
    nvs:
      key: WSSID
    ble:
      first: true
      uuid: "{0x17,0xfe,0xc3,0xc1,0x6b,0xe1,0x15,0x54,0xa5,0x74,0x55,0x9c,0x81,0x69,0xa3,0x6c}"
      write: true
    http:
      write: true
    write_cb: true
    default: ""

  - name: wifi_password
    nosend: true
    caps_name: WIFI_PASSWORD
    string: true
    nvs:
      key: WPASS
    ble:
      uuid: "{0x17,0xfe,0xc3,0xc1,0x6b,0xe1,0x15,0x54,0xa5,0x74,0x55,0x9c,0x81,0x69,0xa3,0x7c}"
      write: true
      notify: true
      no_sync: true
    http:
      write: true
    write_cb: true
    default: ""

  - name: wifi_ap_ssid
    caps_name: WIFI_AP_SSID
    string: true
    nvs:
      key: WAPSSID
    http:
      write: true
    default_var: DEFAULT_AP_SSID

  - name: wifi_ap_password
    caps_name: WIFI_AP_PASSWORD
    string: true
    nvs:
      key: WAPPASS
    http:
      write: true
    default_var: DEFAULT_AP_PASSWORD

  - name: mdns_domain
    caps_name: MDNS_DOMAIN
    string: true
    nvs:
      key: MDNSD
    http:
      write: true
    default: supergreencontroller

  - name: wifi_ip
    caps_name: WIFI_IP
    string: true
    nvs:
      key: WIP
    ble:
      uuid: "{0x17,0xfe,0xc3,0xc1,0x6b,0xe1,0x15,0x54,0xa5,0x74,0x55,0x9c,0x81,0x69,0xa3,0x8c}"
      notify: true
    http:
      noop: true
    default: "0.0.0.0"

  - name: time
    caps_name: TIME
    integer: true
    nvs:
      key: TIME
    ble:
      uuid: "{0x9b,0x6a,0x3b,0xe2,0xaa,0xb4,0x33,0xaa,0x8a,0x4a,0x9e,0xe1,0x4f,0xee,0xf9,0x40}"
      write: true
      notify: true
    http:
      write: true
    write_cb: true
    default: 0

  - name: n_restarts
    caps_name: N_RESTARTS
    integer: true
    nvs:
      key: N_RESTARTS
    http:
      noop: true
    default: 0
 
  - name: ota_timestamp
    caps_name: OTA_TIMESTAMP
    integer: true
    nvs:
      key: OTA_TMSTP
    http:
      write: true
    default_var: OTA_BUILD_TIMESTAMP

  - name: ota_server_ip
    caps_name: OTA_SERVER_IP
    string: true
    nvs:
      key: OTA_SRV_IP
    http:
      write: true
    default: 142.93.167.50

  - name: ota_server_hostname
    caps_name: OTA_SERVER_HOSTNAME
    string: true
    nvs:
      key: OTA_SRV_HN
    http:
      write: true
    default: update.supergreenlab.com

  - name: ota_server_port
    caps_name: OTA_SERVER_PORT
    string: true
    nvs:
      key: OTA_SRV_PRT
    http:
      write: true
    default: 80

  - name: ota_basedir
    caps_name: OTA_BASEDIR
    string: true
    nvs:
      key: OTA_BASEDIR
    http:
      write: true
    default: /SuperGreenController

  - name: ota_status
    caps_name: OTA_STATUS
    integer: true
    http:
      noop: true
    default_var: OTA_STATUS_IDLE

  - name: broker_url
    caps_name: BROKER_URL
    string: true
    nvs:
      key: BRKR_URL
    http:
      write: true
    default: mqtt://sink.supergreenlab.com:1883

  - name: broker_channel
    caps_name: BROKER_CHANNEL
    string: true
    nvs:
      key: BRKR_CHN
    http:
      write: true
    default: ""

  - name: broker_clientid
    caps_name: BROKER_CLIENTID
    string: true
    nvs:
      key: BRKR_CLID
    http:
      write: true
    default: ""

  - name: i2c_0_sda
    caps_name: I2C_0_SDA
    integer: true
    i2c:
      index: 0
      param: sda
    nvs:
      key: I2C_0_SDA
    http:
      write: true
    default: 18

  - name: i2c_0_scl
    caps_name: I2C_0_SCL
    integer: true
    i2c:
      index: 0
      param: scl
    nvs:
      key: I2C_0_SCL
    http:
      write: true
    default: 5

  - name: i2c_0_enabled
    caps_name: I2C_0_ENABLED
    integer: true
    i2c:
      index: 0
      param: enabled
    nvs:
      key: I2C_0_E
    http:
      write: true
    default: 1

  - name: i2c_1_sda
    caps_name: I2C_1_SDA
    integer: true
    i2c:
      index: 1
      param: sda
    nvs:
      key: I2C_1_SDA
    http:
      write: true
    default: 21

  - name: i2c_1_scl
    caps_name: I2C_1_SCL
    integer: true
    i2c:
      index: 1
      param: scl
    nvs:
      key: I2C_1_SCL
    http:
      write: true
    default: 19

  - name: i2c_1_enabled
    caps_name: I2C_1_ENABLED
    integer: true
    i2c:
      index: 1
      param: enabled
    nvs:
      key: I2C_1_E
    http:
      write: true
    default: 1

  - name: i2c_2_sda
    caps_name: I2C_2_SDA
    integer: true
    i2c:
      index: 2
      param: sda
    nvs:
      key: I2C_2_SDA
    http:
      write: true
    default_var: 21

  - name: i2c_2_scl
    caps_name: I2C_2_SCL
    integer: true
    i2c:
      index: 2
      param: scl
    nvs:
      key: I2C_2_SCL
    http:
      write: true
    default_var: 19

  - name: i2c_2_enabled
    caps_name: I2C_2_ENABLED
    integer: true
    i2c:
      index: 2
      param: enabled
    nvs:
      key: I2C_2_E
    http:
      write: true
    default: 0

  - name: reboot
    caps_name: REBOOT
    integer: true
    http:
      write: true
    write_cb: true
    default: 0

  #
  # Custom keys
  #
  - name: state
    caps_name: STATE
    integer: true
    nvs:
      key: STATE
    ble:
      uuid: "{0x94,0x28,0x12,0x63,0x56,0xde,0xec,0x43,0xb4,0xfe,0xd6,0x3b,0xd2,0xdf,0xf6,0x8f}"
      write: true
      notify: true
    http:
      write: true
    default_var: FIRST_RUN

  - name: device_name
    caps_name: DEVICE_NAME
    string: true
    nvs:
      key: DEV_NAME
    ble:
      uuid: "{0x25,0x8b,0x4f,0x3d,0xf1,0x61,0xee,0x68,0x6e,0xee,0x0e,0x8c,0x32,0x77,0x31,0xa6}"
      write: true
    http:
      write: true
    default: SuperGreenController

  - name: status_led_red_gpio
    caps_name: STATUS_LED_RED_GPIO
    integer: true
    nvs:
      key: SL_R_IO
    http:
      write: true
    default: 23
    
  - name: status_led_green_gpio
    caps_name: STATUS_LED_GREEN_GPIO
    integer: true
    nvs:
      key: SL_G_IO
    http:
      write: true
    default: 22

  - name: status_led_dim
    caps_name: STATUS_LED_DIM
    integer: true
    nvs:
      key: SL_R_D
    http:
      write: true
    default: 10

  #
  # Boxes configurations
  # 

  #
  # BOX 0
  #

  - name: box_0_enabled
    caps_name: BOX_0_ENABLED
    integer: true
    box:
      index: 0
      param: enabled
    nvs:
      key: B_0_E
    http:
      write: true
    default: 1

  - name: box_0_timer_type
    caps_name: BOX_0_TIMER_TYPE
    integer: true
    box:
      index: 0
      param: timer_type
    nvs:
      key: B_0_TT
      manual: true
    ble:
      uuid: "{0xf3,0xa9,0xfa,0xb2,0x5a,0x41,0x3d,0x34,0x7b,0x0a,0xa9,0x3a,0x40,0xa8,0x5e,0x5f}"
      write: true
    http:
      write: true
    write_cb: true
    default_var: TIMER_MANUAL

  - name: box_0_timer_output
    caps_name: BOX_0_TIMER_OUTPUT
    integer: true
    box:
      index: 0
      param: timer_output
    nvs:
      key: B_0_TO
    http:
      noop: true
    default: 0

  - name: box_0_started_at
    caps_name: BOX_0_STARTED_AT
    integer: true
    box:
      index: 0
      param: started_at
    nvs:
      key: B_0_ST_AT
    ble:
      uuid: "{0xa2,0x95,0x3b,0x05,0x4b,0x30,0x39,0xba,0x57,0x4f,0x01,0xf1,0x34,0x02,0x45,0x1f}"
      notify: true
      write: true
    http:
      write: true
    default: 0

  - name: box_0_on_hour
    caps_name: BOX_0_ON_HOUR
    integer: true
    box:
      index: 0
      param: on_hour
    nvs:
      key: B_0_ON_H
    ble:
      uuid: "{0xa1,0x4b,0xed,0x50,0xf3,0x19,0x26,0xef,0xda,0x09,0xb7,0x4a,0xa6,0xf9,0x67,0xe8}"
      write: true
    http:
      write: true
    default: 1

  - name: box_0_on_min
    caps_name: BOX_0_ON_MIN
    integer: true
    box:
      index: 0
      param: on_min
    nvs:
      key: B_0_ON_M
    ble:
      uuid: "{0x47,0x13,0x79,0xf1,0x67,0x71,0xf5,0x62,0x14,0xf7,0x3b,0xdd,0x0b,0xa5,0x28,0x75}"
      write: true
    http:
      write: true
    default: 0

  - name: box_0_off_hour
    caps_name: BOX_0_OFF_HOUR
    integer: true
    box:
      index: 0
      param: off_hour
    nvs:
      key: B_0_OFF_H
    ble:
      uuid: "{0xae,0xbe,0x35,0x4c,0x29,0x12,0x53,0x02,0x6b,0xab,0x7e,0x9d,0x8c,0xb8,0xaf,0x5d}"
      write: true
    http:
      write: true
    default: 19

  - name: box_0_off_min
    caps_name: BOX_0_OFF_MIN
    integer: true
    box:
      index: 0
      param: off_min
    nvs:
      key: B_0_OFF_M
    ble:
      uuid: "{0xd4,0xd3,0xef,0x05,0x3f,0x4f,0x10,0x41,0x22,0x2d,0xab,0xd9,0xe1,0xa1,0x6a,0x08}"
      write: true
    http:
      write: true
    default: 0

  - name: box_0_stretch
    caps_name: BOX_0_STRETCH
    integer: true
    box:
      index: 0
      param: stretch
    nvs:
      key: B_0_STRETCH
    ble:
      uuid: "{0xe5,0x5a,0x87,0x47,0xcc,0xb2,0xe1,0xa5,0x22,0x48,0xb0,0x95,0x6b,0x32,0x72,0x70}"
      notify: true
    http:
      write: true
    write_cb: true
    default: 0

  - name: box_0_led_dim
    caps_name: BOX_0_LED_DIM
    integer: true
    box:
      index: 0
      param: led_dim
    nvs:
      key: B_0_L_DIM
    ble:
      uuid: "{0x61,0xdb,0xb0,0x55,0xde,0x0f,0xb7,0x46,0x29,0xba,0x77,0x76,0xf6,0x75,0x63,0xa6}"
      notify: true
    http:
      write: true
    write_cb: true
    default: 0

  - name: box_0_blower_day
    caps_name: BOX_0_BLOWER_DAY
    integer: true
    box:
      index: 0
      param: blower_day
    nvs:
      key: B_0_BLWR_D
    http:
      write: true
    write_cb: true
    default: 40

  - name: box_0_blower_night
    caps_name: BOX_0_BLOWER_NIGHT
    integer: true
    box:
      index: 0
      param: blower_night
    nvs:
      key: B_0_BLWR_N
    http:
      write: true
    write_cb: true
    default: 20

  - name: box_0_blower_gpio
    caps_name: BOX_0_BLOWER_GPIO
    integer: true
    box:
      index: 0
      param: blower_gpio
    nvs:
      key: B_0_BLWR_IO
    http:
      write: true
    default: 4

  - name: box_0_blower_frequency
    caps_name: BOX_0_BLOWER_FREQUENCY
    integer: true
    box:
      index: 0
      param: blower_frequency
    nvs:
      key: B_0_BLWR_HZ
    http:
      write: true
    write_cb: true
    default_var: DEFAULT_BLOWER_FREQUENCY

  - name: box_0_blower_enabled
    caps_name: BOX_0_BLOWER_ENABLED
    integer: true
    box:
      index: 0
      param: blower_enabled
    nvs:
      key: B_0_BLWR_E
    http:
      write: true
    default: 1
 
  - name: box_0_sht21_temp_c
    caps_name: BOX_0_SHT21_TEMP_C
    integer: true
    box:
      index: 0
      param: sht21_temp_c
    nvs:
      key: B_0_SHT21_C
    http:
      noop: true
    default: -1000000

  - name: box_0_sht21_temp_f
    caps_name: BOX_0_SHT21_TEMP_F
    integer: true
    box:
      index: 0
      param: sht21_temp_f
    nvs:
      key: B_0_SHT21_F
    http:
      noop: true
    default: -1000000

  - name: box_0_sht21_humi
    caps_name: BOX_0_SHT21_HUMI
    integer: true
    box:
      index: 0
      param: sht21_humi
    nvs:
      key: B_0_SHT21_HU
    http:
      noop: true
    default: -1000000

  - name: box_0_led_info
    caps_name: BOX_0_LED_INFO
    string: true
    box:
      index: 0
      param: led_info
    ble:
      uuid: "{0x96,0xc5,0x14,0x21,0x97,0x6a,0x70,0x18,0x34,0x52,0xce,0x6d,0xfe,0x81,0xf7,0x6d}"
      notify: true
    http:
      noop: true
    default: ""

  #
  # BOX 1
  #

  - name: box_1_enabled
    caps_name: BOX_1_ENABLED
    integer: true
    box:
      index: 1
      param: enabled
    nvs:
      key: B_1_E
    http:
      write: true
    default: 1

  - name: box_1_timer_type
    caps_name: BOX_1_TIMER_TYPE
    integer: true
    box:
      index: 1
      param: timer_type
    nvs:
      key: B_1_TT
      manual: true
    http:
      write: true
    write_cb: true
    default_var: TIMER_MANUAL

  - name: box_1_timer_output
    caps_name: BOX_1_TIMER_OUTPUT
    integer: true
    box:
      index: 1
      param: timer_output
    nvs:
      key: B_1_TO
    http:
      noop: true
    default: 0

  - name: box_1_started_at
    caps_name: BOX_1_STARTED_AT
    integer: true
    box:
      index: 1
      param: started_at
    nvs:
      key: B_1_ST_AT
    http:
      write: true
    default: 0

  - name: box_1_on_hour
    caps_name: BOX_1_ON_HOUR
    integer: true
    box:
      index: 1
      param: on_hour
    nvs:
      key: B_1_ON_H
    http:
      write: true
    default: 1

  - name: box_1_on_min
    caps_name: BOX_1_ON_MIN
    integer: true
    box:
      index: 1
      param: on_min
    nvs:
      key: B_1_ON_M
    http:
      write: true
    default: 0

  - name: box_1_off_hour
    caps_name: BOX_1_OFF_HOUR
    integer: true
    box:
      index: 1
      param: off_hour
    nvs:
      key: B_1_OFF_H
    http:
      write: true
    default: 19

  - name: box_1_off_min
    caps_name: BOX_1_OFF_MIN
    integer: true
    box:
      index: 1
      param: off_min
    nvs:
      key: B_1_OFF_M
    http:
      write: true
    default: 0

  - name: box_1_stretch
    caps_name: BOX_1_STRETCH
    integer: true
    box:
      index: 1
      param: stretch
    nvs:
      key: B_1_STRETCH
    http:
      write: true
    write_cb: true
    default: 0

  - name: box_1_led_dim
    caps_name: BOX_1_LED_DIM
    integer: true
    box:
      index: 1
      param: led_dim
    nvs:
      key: B_1_L_DIM
    http:
      write: true
    write_cb: true
    default: 0

  - name: box_1_blower_day
    caps_name: BOX_1_BLOWER_DAY
    integer: true
    box:
      index: 1
      param: blower_day
    nvs:
      key: B_1_BLWR_D
    http:
      write: true
    write_cb: true
    default: 40

  - name: box_1_blower_night
    caps_name: BOX_1_BLOWER_NIGHT
    integer: true
    box:
      index: 1
      param: blower_night
    nvs:
      key: B_1_BLWR_N
    http:
      write: true
    write_cb: true
    default: 20

  - name: box_1_blower_gpio
    caps_name: BOX_1_BLOWER_GPIO
    integer: true
    box:
      index: 1
      param: blower_gpio
    nvs:
      key: B_1_BLWR_IO
    http:
      write: true
    default: 16

  - name: box_1_blower_frequency
    caps_name: BOX_1_BLOWER_FREQUENCY
    integer: true
    box:
      index: 1
      param: blower_frequency
    nvs:
      key: B_1_BLWR_HZ
    http:
      write: true
    write_cb: true
    default_var: DEFAULT_BLOWER_FREQUENCY
 
  - name: box_1_blower_enabled
    caps_name: BOX_1_BLOWER_ENABLED
    integer: true
    box:
      index: 1
      param: blower_enabled
    nvs:
      key: B_1_BLWR_E
    http:
      write: true
    default: 1
 
  - name: box_1_sht21_temp_c
    caps_name: BOX_1_SHT21_TEMP_C
    integer: true
    box:
      index: 1
      param: sht21_temp_c
    nvs:
      key: B_1_SHT21_C
    http:
      noop: true
    default: -1000000

  - name: box_1_sht21_temp_f
    caps_name: BOX_1_SHT21_TEMP_F
    integer: true
    box:
      index: 1
      param: sht21_temp_f
    nvs:
      key: B_1_SHT21_F
    http:
      noop: true
    default: -1000000

  - name: box_1_sht21_humi
    caps_name: BOX_1_SHT21_HUMI
    integer: true
    box:
      index: 1
      param: sht21_humi
    nvs:
      key: B_1_SHT21_HU
    http:
      noop: true
    default: -1000000

  - name: box_1_led_info
    caps_name: BOX_1_LED_INFO
    string: true
    box:
      index: 1
      param: led_info
    http:
      noop: true
    default: ""

  #
  # BOX 2
  #

  - name: box_2_enabled
    caps_name: BOX_2_ENABLED
    integer: true
    box:
      index: 2
      param: enabled
    nvs:
      key: B_2_E
    http:
      write: true
    default: 0

  - name: box_2_timer_type
    caps_name: BOX_2_TIMER_TYPE
    integer: true
    box:
      index: 2
      param: timer_type
    nvs:
      key: B_2_TT
      manual: true
    http:
      write: true
    write_cb: true
    default_var: TIMER_MANUAL

  - name: box_2_timer_output
    caps_name: BOX_2_TIMER_OUTPUT
    integer: true
    box:
      index: 2
      param: timer_output
    nvs:
      key: B_2_TO
    http:
      noop: true
    default: 0

  - name: box_2_started_at
    caps_name: BOX_2_STARTED_AT
    integer: true
    box:
      index: 2
      param: started_at
    nvs:
      key: B_2_ST_AT
    http:
      write: true
    default: 0

  - name: box_2_on_hour
    caps_name: BOX_2_ON_HOUR
    integer: true
    box:
      index: 2
      param: on_hour
    nvs:
      key: B_2_ON_H
    http:
      write: true
    default: 1

  - name: box_2_on_min
    caps_name: BOX_2_ON_MIN
    integer: true
    box:
      index: 2
      param: on_min
    nvs:
      key: B_2_ON_M
    http:
      write: true
    default: 0

  - name: box_2_off_hour
    caps_name: BOX_2_OFF_HOUR
    integer: true
    box:
      index: 2
      param: off_hour
    nvs:
      key: B_2_OFF_H
    http:
      write: true
    default: 19

  - name: box_2_off_min
    caps_name: BOX_2_OFF_MIN
    integer: true
    box:
      index: 2
      param: off_min
    nvs:
      key: B_2_OFF_M
    http:
      write: true
    default: 0

  - name: box_2_stretch
    caps_name: BOX_2_STRETCH
    integer: true
    box:
      index: 2
      param: stretch
    nvs:
      key: B_2_STRETCH
    http:
      write: true
    write_cb: true
    default: 0

  - name: box_2_led_dim
    caps_name: BOX_2_LED_DIM
    integer: true
    box:
      index: 2
      param: led_dim
    nvs:
      key: B_2_L_DIM
    http:
      write: true
    write_cb: true
    default: 0

  - name: box_2_blower_day
    caps_name: BOX_2_BLOWER_DAY
    integer: true
    box:
      index: 2
      param: blower_day
    nvs:
      key: B_2_BLWR_D
    http:
      write: true
    write_cb: true
    default: 40

  - name: box_2_blower_night
    caps_name: BOX_2_BLOWER_NIGHT
    integer: true
    box:
      index: 2
      param: blower_night
    nvs:
      key: B_2_BLWR_N
    http:
      write: true
    write_cb: true
    default: 20

  - name: box_2_blower_gpio
    caps_name: BOX_2_BLOWER_GPIO
    integer: true
    box:
      index: 2
      param: blower_gpio
    nvs:
      key: B_2_BLWR_IO
    http:
      write: true
    default: 17

  - name: box_2_blower_frequency
    caps_name: BOX_2_BLOWER_FREQUENCY
    integer: true
    box:
      index: 2
      param: blower_frequency
    nvs:
      key: B_2_BLWR_HZ
    http:
      write: true
    write_cb: true
    default_var: DEFAULT_BLOWER_FREQUENCY

  - name: box_2_blower_enabled
    caps_name: BOX_2_BLOWER_ENABLED
    integer: true
    box:
      index: 2
      param: blower_enabled
    nvs:
      key: B_2_BLWR_E
    http:
      write: true
    default: 0
 
  - name: box_2_sht21_temp_c
    caps_name: BOX_2_SHT21_TEMP_C
    integer: true
    box:
      index: 2
      param: sht21_temp_c
    nvs:
      key: B_2_SHT21_C
    http:
      noop: true
    default: -1000000

  - name: box_2_sht21_temp_f
    caps_name: BOX_2_SHT21_TEMP_F
    integer: true
    box:
      index: 2
      param: sht21_temp_f
    nvs:
      key: B_2_SHT21_F
    http:
      noop: true
    default: -1000000

  - name: box_2_sht21_humi
    caps_name: BOX_2_SHT21_HUMI
    integer: true
    box:
      index: 2
      param: sht21_humi
    nvs:
      key: B_2_SHT21_HU
    http:
      noop: true
    default: -1000000

  - name: box_2_led_info
    caps_name: BOX_2_LED_INFO
    string: true
    box:
      index: 2
      param: led_info
    http:
      noop: true
    default: ""

  #
  # LEDs Configurations
  #

  - name: led_0_duty
    caps_name: LED_0_DUTY
    led:
      index: 0
      param: duty
    integer: true
    nvs:
      key: L_0_D
    http:
      write: true
    write_cb: true
    default: 0

  - name: led_1_duty
    caps_name: LED_1_DUTY
    integer: true
    led:
      index: 1
      param: duty
    nvs:
      key: L_1_D
    http:
      write: true
    write_cb: true
    default: 0

  - name: led_2_duty
    caps_name: LED_2_DUTY
    integer: true
    led:
      index: 2
      param: duty
    nvs:
      key: L_2_D
    http:
      write: true
    write_cb: true
    default: 0

  - name: led_3_duty
    caps_name: LED_3_DUTY
    integer: true
    led:
      index: 3
      param: duty
    nvs:
      key: L_3_D
    http:
      write: true
    write_cb: true
    default: 0

  - name: led_4_duty
    caps_name: LED_4_DUTY
    integer: true
    led:
      index: 4
      param: duty
    nvs:
      key: L_4_D
    http:
      write: true
    write_cb: true
    default: 0

  - name: led_5_duty
    caps_name: LED_5_DUTY
    integer: true
    led:
      index: 5
      param: duty
    nvs:
      key: L_5_D
    http:
      write: true
    write_cb: true
    default: 0

  - name: led_0_gpio
    caps_name: LED_0_GPIO
    integer: true
    led:
      index: 0
      param: gpio
    nvs:
      key: L_0_IO
    http:
      write: true
    default: 33

  - name: led_1_gpio
    caps_name: LED_1_GPIO
    integer: true
    led:
      index: 1
      param: gpio
    nvs:
      key: L_1_IO
    http:
      write: true
    default: 25

  - name: led_2_gpio
    caps_name: LED_2_GPIO
    integer: true
    led:
      index: 2
      param: gpio
    nvs:
      key: L_2_IO
    http:
      write: true
    default: 26

  - name: led_3_gpio
    caps_name: LED_3_GPIO
    integer: true
    led:
      index: 3
      param: gpio
    nvs:
      key: L_3_IO
    http:
      write: true
    default: 27

  - name: led_4_gpio
    caps_name: LED_4_GPIO
    integer: true
    led:
      index: 4
      param: gpio
    nvs:
      key: L_4_IO
    http:
      write: true
    default: 14

  - name: led_5_gpio
    caps_name: LED_5_GPIO
    integer: true
    led:
      index: 5
      param: gpio
    nvs:
      key: L_5_IO
    http:
      write: true
    default: 12

  - name: led_0_x
    caps_name: LED_0_X
    integer: true
    led:
      index: 0
      param: x
    nvs:
      key: L_0_X
    http:
      write: true
    default: 0

  - name: led_1_x
    caps_name: LED_1_X
    integer: true
    led:
      index: 1
      param: x
    nvs:
      key: L_1_X
    http:
      write: true
    default: 0

  - name: led_2_x
    caps_name: LED_2_X
    integer: true
    led:
      index: 2
      param: x
    nvs:
      key: L_2_X
    http:
      write: true
    default: 0

  - name: led_3_x
    caps_name: LED_3_X
    integer: true
    led:
      index: 3
      param: x
    nvs:
      key: L_3_X
    http:
      write: true
    default: 0

  - name: led_4_x
    caps_name: LED_4_X
    integer: true
    led:
      index: 4
      param: x
    nvs:
      key: L_4_X
    http:
      write: true
    default: 0

  - name: led_5_x
    caps_name: LED_5_X
    integer: true
    led:
      index: 5
      param: x
    nvs:
      key: L_5_X
    http:
      write: true
    default: 0

  - name: led_0_y
    caps_name: LED_0_Y
    integer: true
    led:
      index: 0
      param: y
    nvs:
      key: L_0_Y
    http:
      write: true
    default: 0

  - name: led_1_y
    caps_name: LED_1_Y
    integer: true
    led:
      index: 1
      param: y
    nvs:
      key: L_1_Y
    http:
      write: true
    default: 0

  - name: led_2_y
    caps_name: LED_2_Y
    integer: true
    led:
      index: 2
      param: y
    nvs:
      key: L_2_Y
    http:
      write: true
    default: 0

  - name: led_3_y
    caps_name: LED_3_Y
    integer: true
    led:
      index: 3
      param: y
    nvs:
      key: L_3_Y
    http:
      write: true
    default: 0

  - name: led_4_y
    caps_name: LED_4_Y
    integer: true
    led:
      index: 4
      param: y
    nvs:
      key: L_4_Y
    http:
      write: true
    default: 0

  - name: led_5_y
    caps_name: LED_5_Y
    integer: true
    led:
      index: 5
      param: y
    nvs:
      key: L_5_Y
    http:
      write: true
    default: 0

  - name: led_0_z
    caps_name: LED_0_Z
    integer: true
    led:
      index: 0
      param: z
    nvs:
      key: L_0_Z
    http:
      write: true
    default: 0

  - name: led_1_z
    caps_name: LED_1_Z
    integer: true
    led:
      index: 1
      param: z
    nvs:
      key: L_1_Z
    http:
      write: true
    default: 0

  - name: led_2_z
    caps_name: LED_2_Z
    integer: true
    led:
      index: 2
      param: z
    nvs:
      key: L_2_Z
    http:
      write: true
    default: 0

  - name: led_3_z
    caps_name: LED_3_Z
    integer: true
    led:
      index: 3
      param: z
    nvs:
      key: L_3_Z
    http:
      write: true
    default: 0

  - name: led_4_z
    caps_name: LED_4_Z
    integer: true
    led:
      index: 4
      param: z
    nvs:
      key: L_4_Z
    http:
      write: true
    default: 0

  - name: led_5_z
    caps_name: LED_5_Z
    integer: true
    led:
      index: 5
      param: z
    nvs:
      key: L_5_Z
    http:
      write: true
    default: 0

  - name: led_0_enabled
    caps_name: LED_0_ENABLED
    integer: true
    led:
      index: 0
      param: enabled
    nvs:
      key: L_0_E
    http:
      write: true
    default: 1

  - name: led_1_enabled
    caps_name: LED_1_ENABLED
    integer: true
    led:
      index: 1
      param: enabled
    nvs:
      key: L_1_E
    http:
      write: true
    default: 1

  - name: led_2_enabled
    caps_name: LED_2_ENABLED
    integer: true
    led:
      index: 2
      param: enabled
    nvs:
      key: L_2_E
    http:
      write: true
    default: 1

  - name: led_3_enabled
    caps_name: LED_3_ENABLED
    integer: true
    led:
      index: 3
      param: enabled
    nvs:
      key: L_3_E
    http:
      write: true
    default: 1

  - name: led_4_enabled
    caps_name: LED_4_ENABLED
    integer: true
    led:
      index: 4
      param: enabled
    nvs:
      key: L_4_E
    http:
      write: true
    default: 1

  - name: led_5_enabled
    caps_name: LED_5_ENABLED
    integer: true
    led:
      index: 5
      param: enabled
    nvs:
      key: L_5_E
    http:
      write: true
    default: 1

  - name: led_0_box
    caps_name: LED_0_BOX
    integer: true
    led:
      index: 0
      param: box
    nvs:
      key: L_0_B
    http:
      write: true
    default: 0

  - name: led_1_box
    caps_name: LED_1_BOX
    integer: true
    led:
      index: 1
      param: box
    nvs:
      key: L_1_B
    http:
      write: true
    default: 0

  - name: led_2_box
    caps_name: LED_2_BOX
    integer: true
    led:
      index: 2
      param: box
    nvs:
      key: L_2_B
    http:
      write: true
    default: 0

  - name: led_3_box
    caps_name: LED_3_BOX
    integer: true
    led:
      index: 3
      param: box
    nvs:
      key: L_3_B
    http:
      write: true
    default: 0

  - name: led_4_box
    caps_name: LED_4_BOX
    integer: true
    led:
      index: 4
      param: box
    nvs:
      key: L_4_B
    http:
      write: true
    default: 1

  - name: led_5_box
    caps_name: LED_5_BOX
    integer: true
    led:
      index: 5
      param: box
    nvs:
      key: L_5_B
    http:
      write: true
    default: 1

  - name: led_0_dim
    caps_name: LED_0_DIM
    integer: true
    led:
      index: 0
      param: dim
    nvs:
      key: L_0_DI
    http:
      write: true
    write_cb: true
    default: 100

  - name: led_1_dim
    caps_name: LED_1_DIM
    integer: true
    led:
      index: 1
      param: dim
    nvs:
      key: L_1_DI
    http:
      write: true
    write_cb: true
    default: 100

  - name: led_2_dim
    caps_name: LED_2_DIM
    integer: true
    led:
      index: 2
      param: dim
    nvs:
      key: L_2_DI
    http:
      write: true
    write_cb: true
    default: 100

  - name: led_3_dim
    caps_name: LED_3_DIM
    integer: true
    led:
      index: 3
      param: dim
    nvs:
      key: L_3_DI
    http:
      write: true
    write_cb: true
    default: 100

  - name: led_4_dim
    caps_name: LED_4_DIM
    integer: true
    led:
      index: 4
      param: dim
    nvs:
      key: L_4_DI
    http:
      write: true
    write_cb: true
    default: 100

  - name: led_5_dim
    caps_name: LED_5_DIM
    integer: true
    led:
      index: 5
      param: dim
    nvs:
      key: L_5_DI
    http:
      write: true
    write_cb: true
    default: 100

  - name: led_0_fade
    caps_name: LED_0_FADE
    led:
      index: 0
      param: fade
    integer: true
    nvs:
      key: L_0_F
    http:
      write: true
    default: 1

  - name: led_1_fade
    caps_name: LED_1_FADE
    led:
      index: 1
      param: fade
    integer: true
    nvs:
      key: L_1_F
    http:
      write: true
    default: 1

  - name: led_2_fade
    caps_name: LED_2_FADE
    led:
      index: 2
      param: fade
    integer: true
    nvs:
      key: L_2_F
    http:
      write: true
    default: 1

  - name: led_3_fade
    caps_name: LED_3_FADE
    led:
      index: 3
      param: fade
    integer: true
    nvs:
      key: L_3_F
    http:
      write: true
    default: 1

  - name: led_4_fade
    caps_name: LED_4_FADE
    led:
      index: 4
      param: fade
    integer: true
    nvs:
      key: L_4_F
    http:
      write: true
    default: 1

  - name: led_5_fade
    caps_name: LED_5_FADE
    led:
      index: 5
      param: fade
    integer: true
    nvs:
      key: L_5_F
    http:
      write: true
    default: 1
